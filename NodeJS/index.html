<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
//======================================================================================================================
        //! sync execution :- synchronous means each task at a time, js will execute a single task then only it will move to next task. It is also called as blocking code as js engine has to wait for the remaining lines of code to execute
//======================================================================================================================
        //console.log("Start")
        //for(let i = 0; i<10; i++){
        //    console.log(i)
        //}
        //console.log("End")
//=====================================================================================================================
        //* async execution ===> async means task will be executed at last after all the sync statements,  once the call stack is empty event loop will only push the callback or promises only when call stack is empty

        // microtask queue has higher priority than callback queue
//=====================================================================================================================
        //setTimeout(()=>{
        //    console.log("inside setTimeOut")
        //},1000) //3
        //console.log("start") // 1
        //for(let i = 0; i<10000; i++){
        //    console.log("") //2
        //}
//======================================================================================================================
        //! async example 2

        //setTimeout(()=>{
        //    for(let i = 0 ; i < 100 ; i++){
        //        console.log("")
        //    }
        //},3000);
        //console.log("start")

        //! async example 3


    //==================================================================================================================
        
    //! Promise ==> promise is a object which represents eventual completion of an async task

    //let promise = fetch("https://jsonplaceholder.typicode.com/posts");
    //console.log(promise)
    //promise
    //    .then((value)=>{
    //        console.log(value)
    //        let jsonData = value.json()
    //        console.log(jsonData)
    //        jsonData
    //            .then((data)=>{
    //                console.log(data)
    //            }).catch((err)=>{
    //                console.log(err)
    //            })
    //            console.log("Inside then")
    //    }).catch((err)=>{
    //        console.log(err)
    //        console.log("inside Catch")
    //    })
//=====================================================================================================================
    //let promise = new Promise((resolve, reject)=>{
    //    let a = 11;
//
    //    if(a == 11){
    //        resolve("Promise resolved")
    //    } else{
    //        reject("rejected")
    //    }
    //});
    //console.log(promise);

    //promise
    //    .then((value)=>{
    //        console.log(value)
    //    }).catch((err)=>{
    //        console.log(err)
    //    })
    //   
    //=====================================================================================================
    
   // 
   // let output = fetch("https://jsonplaceholder.typicode.com/posts");
   // console.log(output)
   // output
   //     .then((value)=>{
   //         console.log(value)
   //         let jsonData = value.json()
   //         console.log(jsonData)
   //         jsonData
   //             .then((data)=>{
   //                 console.log(data)
   //             }).catch((err)=>{
   //                 console.log(err)
   //             })
   //             console.log("Inside then")
   //     }).catch((err)=>{
   //         console.log(err)
   //         console.log("inside Catch")
   //     })
//=============================== async and await ==============================================

//? async is used to in function declaration and await is inside the function body
// async function always return a promise
// await will suspend the execution of the function until promise is resolved

    async function getTodos(){
        let output = await fetch("https://jsonplaceholder.typicode.com/posts")
        console.log(output)
        let jsonData = await output.json();
        console.log(jsonData);
    }
    getTodos();
    
//================================================================================================
</script> 
</body>
</html>